# üêò –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–ò –î–õ–Ø POSTGRESQL

## ‚úÖ –ß—Ç–æ –æ–±–Ω–æ–≤–∏–ª–∏:

### 1. **build.gradle**
- ‚ùå –£–±—Ä–∞–ª–∏: `com.mysql:mysql-connector-j` (MySQL –¥—Ä–∞–π–≤–µ—Ä)
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏: `org.postgresql:postgresql` (PostgreSQL –¥—Ä–∞–π–≤–µ—Ä)
- ‚ùå –£–±—Ä–∞–ª–∏: `flyway-mysql` (–Ω–µ –Ω—É–∂–µ–Ω, flyway-core —Ä–∞–±–æ—Ç–∞–µ—Ç —Å PostgreSQL)

### 2. **application.properties**
- ‚ùå URL: `jdbc:mysql://localhost:3306/...` 
- ‚úÖ URL: `jdbc:postgresql://localhost:5432/...` (–ø–æ—Ä—Ç 5432 –≤–º–µ—Å—Ç–æ 3306!)

- ‚ùå Username: `root` (—ç—Ç–æ –¥–ª—è MySQL)
- ‚úÖ Username: `postgres` (—ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL)

- ‚ùå –î—Ä–∞–π–≤–µ—Ä: `com.mysql.cj.jdbc.Driver`
- ‚úÖ –î—Ä–∞–π–≤–µ—Ä: `org.postgresql.Driver`

- ‚ùå –î–∏–∞–ª–µ–∫—Ç Hibernate: `MySQL8Dialect`
- ‚úÖ –î–∏–∞–ª–µ–∫—Ç Hibernate: `PostgreSQLDialect`

- ‚ùå Flyway —Å—Ö–µ–º–∞: `flower_delivery`
- ‚úÖ Flyway —Å—Ö–µ–º–∞: `public` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ö–µ–º–∞ –≤ PostgreSQL)

---

## üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä–æ–ª—å –æ—Ç PostgreSQL

1. **–û—Ç–∫—Ä–æ–π pgAdmin** (—É —Ç–µ–±—è –æ–Ω —É–∂–µ –æ—Ç–∫—Ä—ã—Ç)
2. **–ü–æ–ø—Ä–æ–±—É–π –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è** –∫ —Å–µ—Ä–≤–µ—Ä—É
3. **–ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è** - –ø–æ–ø—Ä–æ–±—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏:
   - `postgres`
   - `admin`
   - `root`
   - –ü—É—Å—Ç–æ–π –ø–∞—Ä–æ–ª—å (–ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ Enter)

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏ –ø–∞—Ä–æ–ª—å –≤ application.properties

–í —Ñ–∞–π–ª–µ `src/main/resources/application.properties` –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É:
```properties
spring.datasource.password=postgres
```

**–ó–∞–º–µ–Ω–∏ `postgres` –Ω–∞ –°–í–û–ô —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å!**

–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å –ø–∞—Ä–æ–ª—å - —Å–º–æ—Ç—Ä–∏ —Ñ–∞–π–ª `–ö–ê–ö_–°–ë–†–û–°–ò–¢–¨_–ü–ê–†–û–õ–¨.md`

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `flower_delivery`

**–í–ê–ñ–ù–û:** PostgreSQL –ù–ï –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç MySQL)!

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ pgAdmin (–°–ê–ú–´–ô –ü–†–û–°–¢–û–ô!)

1. **–ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É** –≤ pgAdmin
2. **–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ "Databases"** ‚Üí **Create** ‚Üí **Database...**
3. **–ò–º—è –±–∞–∑—ã:** `flower_delivery`
4. **Owner (–≤–ª–∞–¥–µ–ª–µ—Ü):** `postgres` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
5. **–ù–∞–∂–º–∏ OK**
6. **–ì–æ—Ç–æ–≤–æ!** –ë–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞!

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ SQL (–µ—Å–ª–∏ pgAdmin –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. **–û—Ç–∫—Ä–æ–π –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É**
2. **–ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ PostgreSQL:**
   ```cmd
   psql -U postgres
   ```
   (–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å –µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç)

3. **–°–æ–∑–¥–∞–π –±–∞–∑—É:**
   ```sql
   CREATE DATABASE flower_delivery;
   ```

4. **–í—ã–π–¥–∏:**
   ```sql
   \q
   ```

---

### –®–∞–≥ 4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Gradle

–í IDEA:
- **–ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ `build.gradle`** ‚Üí **Gradle** ‚Üí **Reload Gradle Project**
- –ò–ª–∏ –Ω–∞–∂–º–∏ –Ω–∞ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "Gradle files have changed"

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç** (–∫–Ω–æ–ø–∫–∞ Run —Ä—è–¥–æ–º —Å `FlowerDeliveryApplication`)
2. **–°–º–æ—Ç—Ä–∏ –≤ –∫–æ–Ω—Å–æ–ª—å** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
3. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Connection refused"** - PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω (–∑–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ services.msc)
4. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "password authentication failed"** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–∏—Å–ø—Ä–∞–≤—å –≤ application.properties)

---

## üîç –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

### ‚ùå "Connection refused"
**–ü—Ä–∏—á–∏–Ω–∞:** PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. Win+R ‚Üí `services.msc`
2. –ù–∞–π–¥–∏ "postgresql-x64-XX" (–≥–¥–µ XX - –≤–µ—Ä—Å–∏—è)
3. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí **Start**

### ‚ùå "password authentication failed"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤ application.properties

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–∑–Ω–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–º–æ—Ç—Ä–∏ `–ö–ê–ö_–°–ë–†–û–°–ò–¢–¨_–ü–ê–†–û–õ–¨.md`)
2. –û–±–Ω–æ–≤–∏ `spring.datasource.password=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å` –≤ application.properties

### ‚ùå "database flower_delivery does not exist"
**–ü—Ä–∏—á–∏–Ω–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π –±–∞–∑—É —á–µ—Ä–µ–∑ pgAdmin (–®–∞–≥ 3 –≤—ã—à–µ)
2. –ò–ª–∏ —á–µ—Ä–µ–∑ SQL: `CREATE DATABASE flower_delivery;`

### ‚ùå "Driver not found"
**–ü—Ä–∏—á–∏–Ω–∞:** Gradle –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. Reload Gradle Project (–®–∞–≥ 4 –≤—ã—à–µ)
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ build.gradle –µ—Å—Ç—å `runtimeOnly 'org.postgresql:postgresql'`

---

## üéâ –ö–û–ì–î–ê –í–°–Å –†–ê–ë–û–¢–ê–ï–¢:

**–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞:**
```
Started FlowerDeliveryApplication in 2.5 seconds
```

**–ò –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨:**
```
‚ùå Could not connect to database
‚ùå Password authentication failed
‚ùå Database does not exist
```

---

## üìù –ß–¢–û –î–ê–õ–¨–®–ï (–∫–æ–≥–¥–∞ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç):

1. ‚úÖ –ë–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞
2. ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ (model, repository, service, handler)
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é Flyway (—Ç–∞–±–ª–∏—Ü–∞ users)
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –º–æ–¥–µ–ª—å (User)
6. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

**–ù–∞–ø–∏—à–∏ –∫–æ–≥–¥–∞ –±–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è - –ø—Ä–æ–¥–æ–ª–∂–∏–º!** üöÄ
